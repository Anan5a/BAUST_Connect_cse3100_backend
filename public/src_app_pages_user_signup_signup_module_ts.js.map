{"version":3,"file":"src_app_pages_user_signup_signup_module_ts.js","mappings":"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","sources":["./src/app/pages/user/signup/signup-routing.module.ts","./src/app/pages/user/signup/signup.module.ts","./src/app/pages/user/signup/signup.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SignupPage } from './signup.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignupPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SignupPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignupPageRoutingModule } from './signup-routing.module';\n\nimport { SignupPage } from './signup.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SignupPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [SignupPage]\n})\nexport class SignupPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {AbstractControl, FormBuilder, FormGroup, ValidationErrors, ValidatorFn, Validators} from \"@angular/forms\";\nimport {AuthenticationService} from \"../../../services/authentication.service\";\nimport {AlertController, LoadingController} from \"@ionic/angular\";\nimport {Router} from \"@angular/router\";\nimport {DataDepartment} from \"../../../dataclass/DataDepartment\";\nimport {DepartmentService} from \"../../../services/department.service\";\nimport {LoaderService} from \"../../../services/loader.service\";\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.page.html',\n  styleUrls: ['./signup.page.scss'],\n})\nexport class SignupPage implements OnInit {\n\n  credentials:FormGroup = new FormGroup({})\n\n  departments:DataDepartment[]\n  checkPasswords: ValidatorFn = (group: AbstractControl):  ValidationErrors | null => {\n    let pass = group.get('password').value;\n    let confirmPass = group.get('c_password').value\n    return pass === confirmPass ? null : { notSame: true }\n  }\n  constructor(\n    private fb:FormBuilder,\n    private authService:AuthenticationService,\n    private alertController:AlertController,\n    private departmentService:DepartmentService,\n    private router:Router,\n    private loaderService:LoaderService\n  ) {\n\n  }\n\n  ngOnInit() {\n    const isLoggedIn = this.authService.isLoggedIn()\n    isLoggedIn.then((n)=>{\n      if(n == true)\n        this.router.navigateByUrl('/profile', {replaceUrl:true})\n    })\n    this.credentials = this.fb.group({\n      student_id: ['', [Validators.required, Validators.minLength(9), Validators.maxLength(9)]],//, Validators.email\n      email: ['', [Validators.required,Validators.email]],//, Validators.email\n      password: ['', [Validators.required, Validators.minLength(8)]],\n      c_password: ['', [Validators.required, Validators.minLength(8)]],\n      full_name: ['', [Validators.required, Validators.minLength(10), Validators.maxLength(60)]],\n      batch: ['', [Validators.required, Validators.minLength(1), Validators.maxLength(2)]],//, Validators.email\n      department_id:['', [Validators.required]]\n    },\n      {\n        validators:this.checkPasswords\n      });\n  }\n  load_departments(){\n    console.log('loading departments')\n    //load departments\n    this.departmentService.getDepartments().subscribe((response)=>{\n      this.departments = response\n    })\n  }\n  async signup() {\n    this.authService.signup(this.credentials.value).subscribe((response)=>{\n      this.loaderService.showToast(\"Account created successfully!\", \"success\")\n      this.router.navigateByUrl('/login', {replaceUrl:true})\n    },(error)=>{\n\n    })\n\n  }\n\n  // Easy access for form fields\n  get student_id() {\n    return this.credentials.get('student_id');\n  }\n  get email(){\n    return this.credentials.get('email')\n  }\n\n  get password() {\n    return this.credentials.get('password');\n  }\n  get full_name() {\n    return this.credentials.get('full_name');\n  }\n  get batch() {\n    return this.credentials.get('batch');\n  }\n  get c_password() {\n    return this.credentials.get('c_password');\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}