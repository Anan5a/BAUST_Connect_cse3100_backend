{"version":3,"file":"src_app_pages_user_login_login_module_ts.js","mappings":"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","sources":["./src/app/pages/user/login/login-routing.module.ts","./src/app/pages/user/login/login.module.ts","./src/app/pages/user/login/login.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage,\n  },{\n    path: 'logout',\n    component: LoginPage,\n\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {AuthenticationService} from \"../../../services/authentication.service\";\nimport {AlertController, LoadingController} from \"@ionic/angular\";\nimport {Router} from \"@angular/router\";\nimport {StorageService} from \"../../../services/storage.service\";\nimport {AppComponent} from \"../../../app.component\";\nimport {GlobalEventsService} from \"../../../services/global-events.service\";\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  credentials:FormGroup = new FormGroup({})\n\n  constructor(\n    private fb:FormBuilder,\n    private authService:AuthenticationService,\n    private router:Router,\n    private storageService:StorageService,\n    private events:GlobalEventsService\n    ) {\n\n  }\n\n  ngOnInit() {\n    const isLoggedIn = this.authService.isLoggedIn()\n    isLoggedIn.then((n)=>{\n      if(n === 'true')\n        this.router.navigateByUrl('/profile', {replaceUrl:true})\n    })\n    /**\n     * logout module\n     */\n    if (this.router.url.match(/\\/logout/)){\n      this.authService.logout()\n      this.events.publishEvent({'update_menu':true})\n      this.router.navigateByUrl('/', {replaceUrl:true})\n    }\n\n    this.credentials = this.fb.group({\n      emailorid: ['', [Validators.required,Validators.minLength(9), Validators.maxLength(9)]],// Validators.email\n      password: ['', [Validators.required, Validators.minLength(8)]],\n    });\n  }\n  async login() {\n    this.authService.login(this.credentials.value).subscribe((f)=>{\n      if (f){\n        this.storageService.set('loggedIn', 'true')\n        this.router.navigateByUrl('/profile', {replaceUrl:true});\n        this.events.publishEvent({'update_menu':true})\n      }\n    })\n  }\n\n  // Easy access for form fields\n  get emailorid() {\n    return this.credentials.get('emailorid');\n  }\n\n  get password() {\n    return this.credentials.get('password');\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}